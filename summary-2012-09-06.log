/========================\
      Result Summary     
\========================/

    run-pass: 855 ( 93.1%) passed, 59 (  6.4%) ignored,  0 (  0.0%) gcregroot,  4 (  0.4%) unknown
    run-pass:   1 ( 50.0%) passed,  1 ( 50.0%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
    run-fail:  48 ( 49.0%) passed,  7 (  7.1%) ignored,  0 (  0.0%) gcregroot, 43 ( 43.9%) unknown
compile-fail: 527 ( 95.5%) passed, 25 (  4.5%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
    run-pass:  32 ( 94.1%) passed,  0 (  0.0%) ignored,  0 (  0.0%) gcregroot,  2 (  5.9%) unknown
      pretty: 829 ( 91.4%) passed, 77 (  8.5%) ignored,  0 (  0.0%) gcregroot,  1 (  0.1%) unknown
      pretty:   0 (  0.0%) passed,  2 (100.0%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
      pretty:  91 ( 92.9%) passed,  7 (  7.1%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
      pretty:  24 ( 70.6%) passed, 10 ( 29.4%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
      pretty:  22 ( 95.7%) passed,  1 (  4.3%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
    run-pass:  90 ( 98.9%) passed,  1 (  1.1%) ignored,  0 (  0.0%) gcregroot,  0 (  0.0%) unknown
    run-pass:  63 ( 87.5%) passed,  8 ( 11.1%) ignored,  0 (  0.0%) gcregroot,  1 (  1.4%) unknown

/========================\
   Undiagnosed Failures  
\========================/

test [run-pass] /home/elliottslaughter/rust3/src/test/run-pass/issue-3168.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"child blocks"
rust: ~"brother fails"
==9176== Thread 3:
==9176== Invalid free() / delete / delete[] / realloc()
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176==  Address 0x474ce38 is 0 bytes inside a block of size 38 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x8058302: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==  Address 0x474cee0 is 0 bytes inside a block of size 40 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==9176==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9176==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9176==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176==  Address 0x474cee4 is 4 bytes inside a block of size 40 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==9176==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==9176==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==9176==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9176==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9176==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176==  Address 0x474cef0 is 16 bytes inside a block of size 40 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==9176==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9176==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9176==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176==  Address 0x474cee0 is 0 bytes inside a block of size 40 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid free() / delete / delete[] / realloc()
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==9176==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9176==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9176==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176==  Address 0x474cee0 is 0 bytes inside a block of size 40 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-pass/issue-3168.rs:10
==9176== Invalid read of size 4
==9176==    at 0x8054481: glue_free_2314 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8054428: glue_drop_2312 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80543C9: glue_drop_2310 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9176==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x408B24A: pipes::wait_event::_5aac1e57d2e11d0::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x805A77D: pipes::try_recv_2583::_caa74e8016db53ad::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8059453: pipes::recv_2558::_c71d85348c445c99::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464954c is 4 bytes inside a block of size 44 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x8058607: glue_drop_2528 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80585C8: glue_drop_2526 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8058568: glue_drop_2524 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8058508: glue_drop_2522 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80544C0: glue_free_2314 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8054428: glue_drop_2312 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80543C9: glue_drop_2310 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9176==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==  Address 0x4649558 is 16 bytes inside a block of size 44 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 1
==9176==    at 0x804B55B: glue_drop_1716 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8058648: glue_drop_2528 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80585C8: glue_drop_2526 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8058568: glue_drop_2524 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8058508: glue_drop_2522 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80544C0: glue_free_2314 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8054428: glue_drop_2312 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x80543C9: glue_drop_2310 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9176==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==  Address 0x4649570 is 40 bytes inside a block of size 44 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/pipes.rs:350
rust: ~"parent tries"
==9176== Invalid read of size 4
==9176==    at 0x8059743: option::is_none_2566::_349482994544bf2::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8059714: option::__extensions__::is_none_2564::_bf71ee491d7c91b7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805E1B7: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a490 is 32 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x804B467: glue_drop_1712 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805E2E4: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a490 is 32 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E321: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a4ac is 60 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E32A: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a4a8 is 56 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E32D: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a4a4 is 52 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E330: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a4a0 is 48 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E333: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a49c is 44 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E336: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a498 is 40 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E33F: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a494 is 36 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid write of size 4
==9176==    at 0x805E348: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a490 is 32 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x40895E6: pipes::swap_state_rel::_66dd6b36c54fd9ee::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x805E387: pipes::send_2717::_8c874a9a0a37fdd::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F80F: pipes::streamp::client::try_data_2736::_88d1657cb991dde::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x805F2C2: pipes::__extensions__::try_send_2733::_8a5ed6e9bc1c5977::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a484 is 20 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== Invalid read of size 4
==9176==    at 0x4089824: pipes::atomic_sub_rel::_6c3ce3f546aa19b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9176==    by 0x804C11C: pipes::dtor_1791::_f530fc8fc693bc::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x804BFD8: glue_drop_1787 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x804BF68: glue_drop_1785 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==    by 0x8061E07: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176==  Address 0x464a480 is 16 bytes inside a block of size 64 free'd
==9176==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9176==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9176==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
rust: ~"all done!"
issue-3168.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.
==9176== Thread 1:
==9176== 64 bytes in 1 blocks are definitely lost in loss record 6 of 11
==9176==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==9176==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==9176==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==9176==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==9176==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9176== 
==9176== 144 bytes in 1 blocks are possibly lost in loss record 9 of 11
==9176==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9176==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==9176==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==9176==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==9176==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==9176==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==9176==    by 0x41CA138: rust_start (rust.cpp:96)
==9176==    by 0x804A3C5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3168.stage2-i686-unknown-linux-gnu)
==9176== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-pass] /home/elliottslaughter/rust3/src/test/run-pass/issue-3176.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"child blocks"
rust: ~"brother fails"
==9194== Thread 3:
==9194== Invalid free() / delete / delete[] / realloc()
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==  Address 0x474d508 is 0 bytes inside a block of size 38 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805BF82: glue_drop_2666 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805860E: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194== 
==9194== Invalid read of size 4
==9194==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x8058692: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==  Address 0x474d5b0 is 0 bytes inside a block of size 40 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805865D: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194== 
==9194== Invalid read of size 4
==9194==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==9194==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9194==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9194==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==9194==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x8058692: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==  Address 0x474d5b4 is 4 bytes inside a block of size 40 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805865D: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194== 
==9194== Invalid read of size 4
==9194==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==9194==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==9194==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==9194==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9194==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9194==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==9194==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==  Address 0x474d5c0 is 16 bytes inside a block of size 40 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805865D: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194== 
==9194== Invalid read of size 4
==9194==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==9194==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9194==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9194==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==9194==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x8058692: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==  Address 0x474d5b0 is 0 bytes inside a block of size 40 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805865D: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194== 
==9194== Invalid free() / delete / delete[] / realloc()
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==9194==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==9194==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==9194==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==9194==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==  Address 0x474d5b0 is 0 bytes inside a block of size 40 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==9194==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==9194==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x804C03A: glue_free_1784 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8059C98: glue_drop_2580 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x805865D: main::anon::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-pass/issue-3176.rs:12
==9194== Invalid read of size 4
==9194==    at 0x80545B1: glue_free_2315 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8054558: glue_drop_2313 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80544F9: glue_drop_2311 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9194==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x408B24A: pipes::wait_event::_5aac1e57d2e11d0::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x805F9FD: pipes::wait_many_2748::_4d1f3983144de9f::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8064677: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==  Address 0x4649bac is 4 bytes inside a block of size 44 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194== 
==9194== Invalid read of size 4
==9194==    at 0x8058997: glue_drop_2529 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8058958: glue_drop_2527 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80588F8: glue_drop_2525 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8058898: glue_drop_2523 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80545F0: glue_free_2315 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8054558: glue_drop_2313 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80544F9: glue_drop_2311 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9194==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==  Address 0x4649bb8 is 16 bytes inside a block of size 44 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194== 
==9194== Invalid read of size 1
==9194==    at 0x804B6AB: glue_drop_1717 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80589D8: glue_drop_2529 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8058958: glue_drop_2527 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80588F8: glue_drop_2525 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8058898: glue_drop_2523 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80545F0: glue_free_2315 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x8054558: glue_drop_2313 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x80544F9: glue_drop_2311 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==9194==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==9194==  Address 0x4649bd0 is 40 bytes inside a block of size 44 free'd
==9194==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==9194==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==9194==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==9194==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==9194== 
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/pipes.rs:350
rust: ~"parent tries"
rust: ~"all done!"
issue-3176.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.
==9194== Thread 1:
==9194== 144 bytes in 1 blocks are possibly lost in loss record 9 of 12
==9194==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==9194==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==9194==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==9194==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==9194==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==9194==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==9194==    by 0x41CA138: rust_start (rust.cpp:96)
==9194==    by 0x804A515: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/issue-3176.stage2-i686-unknown-linux-gnu)
==9194== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-pass] /home/elliottslaughter/rust3/src/test/run-pass/pipe-detect-term.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-pass/pipe-detect-term.rs:38
==13199== Thread 3:
==13199== Invalid read of size 4
==13199==    at 0x4089824: pipes::atomic_sub_rel::_6c3ce3f546aa19b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x804D7B4: pipes::dtor_2806::_ce6c9432c92c3c1::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x804D668: glue_drop_2802 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x804D5F8: glue_drop_2798 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x804EF1C: glue_drop_2934 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==13199==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x408B24A: pipes::wait_event::_5aac1e57d2e11d0::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==  Address 0x49a2c28 is 16 bytes inside a block of size 40 free'd
==13199==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==13199==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==13199==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==13199==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==13199==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==13199== 
==13199== Invalid read of size 4
==13199==    at 0x8050C31: glue_free_3009 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x8050BD8: glue_drop_3007 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x8054069: glue_drop_3139 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==13199==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x408B24A: pipes::wait_event::_5aac1e57d2e11d0::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==13199==    by 0x8051FD4: pipes::try_recv_3049::_b671337a21b1414::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==    by 0x8055C4F: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/pipe-detect-term.stage2-i686-unknown-linux-gnu)
==13199==  Address 0x49a2c74 is 4 bytes inside a block of size 16 free'd
==13199==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==13199==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==13199==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==13199==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==13199==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==13199== 
==13199== Invalid free() / delete / delete[] / realloc()
==13199==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==13199==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==13199==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==13199==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==13199==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==13199==  Address 0x49a2c70 is 0 bytes inside a block of size 16 free'd
==13199==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==13199==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==13199==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==13199==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==13199==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==13199== 
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/pipes.rs:350
pipe-detect-term.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-pass] /home/elliottslaughter/rust3/src/test/run-pass/task-killjoin-rsrc.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-pass/task-killjoin-rsrc.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"wrapper: task=TaskHandle(2) allocated v=478b990"
rust: ~"supervisor task=TaskHandle(2)"
rust: ~"wrapper: task=TaskHandle(3) allocated v=47919a8"
rust: ~"supervised task=fn"
==17599== Thread 3:
==17599== Invalid free() / delete / delete[] / realloc()
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599==  Address 0x4792400 is 0 bytes inside a block of size 41 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
==17599== Invalid read of size 4
==17599==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==  Address 0x4792860 is 0 bytes inside a block of size 56 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
==17599== Invalid read of size 4
==17599==    at 0x4335929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==17599==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==17599==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==17599==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599==  Address 0x4792864 is 4 bytes inside a block of size 56 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
==17599== Invalid read of size 4
==17599==    at 0x43363F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==17599==    by 0x4335DEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==17599==    by 0x433597C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==17599==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==17599==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==17599==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599==  Address 0x4792870 is 16 bytes inside a block of size 56 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
==17599== Invalid read of size 4
==17599==    at 0x433597D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==17599==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==17599==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==17599==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599==  Address 0x4792860 is 0 bytes inside a block of size 56 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
==17599== Invalid free() / delete / delete[] / realloc()
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==17599==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==17599==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==17599==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599==  Address 0x4792860 is 0 bytes inside a block of size 56 free'd
==17599==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==17599==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==17599==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==17599==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==17599== 
rust: ~"notify: task=TaskHandle(3) v=47919a8 unwinding=false b=false"
rust: ~"notify: task=TaskHandle(2) v=478b990 unwinding=false b=true"
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-pass/task-killjoin-rsrc.rs:48
task-killjoin-rsrc.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.
==17599== Thread 1:
==17599== 144 bytes in 1 blocks are possibly lost in loss record 18 of 24
==17599==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==17599==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==17599==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==17599==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==17599==    by 0x432BBDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==17599==    by 0x4312138: rust_start (rust.cpp:96)
==17599==    by 0x804D6B5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/task-killjoin-rsrc.stage2-i686-unknown-linux-gnu)
==17599== 
==17599== 144 bytes in 1 blocks are possibly lost in loss record 19 of 24
==17599==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==17599==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==17599==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==17599==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==17599==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==17599==    by 0x4318E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==17599==    by 0x4319D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==17599==    by 0x432B8E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==17599==    by 0x432BA0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==17599==    by 0x431214C: rust_start (rust.cpp:99)
==17599==    by 0x804D6B5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-pass/task-killjoin-rsrc.stage2-i686-unknown-linux-gnu)
==17599== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/alt-disc-bot.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/alt-disc-bot.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/alt-disc-bot.rs:2
rust: domain main @0x4536338 root task failed
leaked memory in rust main loop (1 objects)
alt-disc-bot.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==21815== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==21815==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21815==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==21815==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==21815==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==21815==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==21815==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==21815== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/alt-wildcards.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/alt-wildcards.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'squirrelcupcake', /home/elliottslaughter/rust3/src/test/run-fail/alt-wildcards.rs:4
rust: domain main @0x4536458 root task failed
leaked memory in rust main loop (1 objects)
alt-wildcards.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==21951== 40 bytes in 1 blocks are definitely lost in loss record 3 of 5
==21951==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21951== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/args-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/args-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'meep', /home/elliottslaughter/rust3/src/test/run-fail/args-fail.rs:4
rust: domain main @0x4536338 root task failed
leaked memory in rust main loop (1 objects)
args-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==22065== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==22065==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22065==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==22065==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==22065==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==22065==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==22065==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22065== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/binop-fail-2.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/binop-fail-2.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"bye"
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/binop-fail-2.rs:2
rust: domain main @0x4536430 root task failed
leaked memory in rust main loop (1 objects)
binop-fail-2.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==22213== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==22213==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22213==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==22213==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==22213==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==22213==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==22213==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22213== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/binop-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/binop-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"bye"
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/binop-fail.rs:2
rust: domain main @0x4536430 root task failed
leaked memory in rust main loop (1 objects)
binop-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==22331== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==22331==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22331==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==22331==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==22331==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==22331==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==22331==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22331== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/bug-2470-bounds-check-overflow.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"ov1 base = 0x4638698"
rust: ~"ov1 idx = 0x118e1a6"
rust: ~"ov1 sizeof::<uint>() = 0x4"
rust: ~"ov1 idx * sizeof::<uint>() = 0x4638698"
==22507== Thread 3:
==22507== Invalid free() / delete / delete[] / realloc()
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==22507==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==22507==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==  Address 0x463a368 is 0 bytes inside a block of size 56 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
==22507== Invalid read of size 4
==22507==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x8049F64: main::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu)
==22507==    by 0x804A377: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu)
==22507==  Address 0x463a578 is 0 bytes inside a block of size 88 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
==22507== Invalid read of size 4
==22507==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==22507==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22507==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22507==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507==  Address 0x463a57c is 4 bytes inside a block of size 88 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
==22507== Invalid read of size 4
==22507==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==22507==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==22507==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==22507==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22507==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22507==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507==  Address 0x463a588 is 16 bytes inside a block of size 88 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
==22507== Invalid read of size 4
==22507==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==22507==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22507==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22507==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507==  Address 0x463a578 is 0 bytes inside a block of size 88 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
==22507== Invalid free() / delete / delete[] / realloc()
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22507==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22507==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22507==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507==  Address 0x463a578 is 0 bytes inside a block of size 88 free'd
==22507==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22507==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22507==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22507==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22507== 
bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.
==22507== Thread 1:
==22507== 144 bytes in 1 blocks are possibly lost in loss record 20 of 29
==22507==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==22507==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==22507==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==22507==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==22507==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==22507==    by 0x41CA138: rust_start (rust.cpp:96)
==22507==    by 0x8048D05: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu)
==22507== 
==22507== 144 bytes in 1 blocks are possibly lost in loss record 21 of 29
==22507==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22507==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==22507==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==22507==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==22507==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==22507==    by 0x41D0E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==22507==    by 0x41D1D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==22507==    by 0x41E38E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==22507==    by 0x41E3A0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==22507==    by 0x41CA14C: rust_start (rust.cpp:99)
==22507==    by 0x8048D05: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/bug-2470-bounds-check-overflow.stage2-i686-unknown-linux-gnu)
==22507== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/bug-811.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/bug-811.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/bug-811.rs:11
rust: domain main @0x4536338 root task failed
leaked memory in rust main loop (1 objects)
bug-811.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==22628== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==22628==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22628==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==22628==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==22628==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==22628==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==22628==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22628== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/explicit-fail-msg.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/explicit-fail-msg.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==22873== Thread 3:
==22873== Invalid read of size 4
==22873==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==  Address 0x46385f8 is 0 bytes inside a block of size 30 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 4
==22873==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873==  Address 0x46385fc is 4 bytes inside a block of size 30 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 4
==22873==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==22873==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==22873==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873==  Address 0x4638608 is 16 bytes inside a block of size 30 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 4
==22873==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873==  Address 0x46385f8 is 0 bytes inside a block of size 30 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid free() / delete / delete[] / realloc()
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873==  Address 0x46385f8 is 0 bytes inside a block of size 30 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 1
==22873==    at 0x4279B8E: vfprintf (vfprintf.c:1624)
==22873==    by 0x4332437: __vsnprintf_chk (vsnprintf_chk.c:65)
==22873==    by 0x4637CD5: ???
==22873==  Address 0x4639550 is 24 bytes inside a block of size 31 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 1
==22873==    at 0x42A5428: _IO_default_xsputn (genops.c:480)
==22873==    by 0x4279BDF: vfprintf (vfprintf.c:1624)
==22873==    by 0x4332437: __vsnprintf_chk (vsnprintf_chk.c:65)
==22873==    by 0x4637CD5: ???
==22873==  Address 0x4639550 is 24 bytes inside a block of size 31 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
==22873== Invalid read of size 1
==22873==    at 0x42A5434: _IO_default_xsputn (genops.c:479)
==22873==    by 0x4279BDF: vfprintf (vfprintf.c:1624)
==22873==    by 0x4332437: __vsnprintf_chk (vsnprintf_chk.c:65)
==22873==    by 0x4637CD5: ???
==22873==  Address 0x4639552 is 26 bytes inside a block of size 31 free'd
==22873==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22873==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22873==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22873==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22873==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22873==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22873==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22873==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22873== 
rust: task failed at 'wooooo', /home/elliottslaughter/rust3/src/test/run-fail/explicit-fail-msg.rs:3
rust: domain main @0x4536ae8 root task failed
explicit-fail-msg.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/fail-arg.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/fail-arg.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'woe', /home/elliottslaughter/rust3/src/test/run-fail/fail-arg.rs:4
rust: domain main @0x4536320 root task failed
leaked memory in rust main loop (1 objects)
fail-arg.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==23963== 28 bytes in 1 blocks are definitely lost in loss record 2 of 5
==23963==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==23963==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==23963==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==23963==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==23963==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==23963==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==23963== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/fail-main.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/fail-main.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'moop', /home/elliottslaughter/rust3/src/test/run-fail/fail-main.rs:3
rust: domain main @0x467f278 root task failed
leaked memory in rust main loop (1 objects)
fail-main.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==24113== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==24113==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24113==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==24113==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==24113==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==24113==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==24113==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24113== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/fmt-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/fmt-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==24387== Thread 3:
==24387== Invalid free() / delete / delete[] / realloc()
==24387==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24387==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==24387==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==24387==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==24387==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24387==  Address 0x4781d20 is 0 bytes inside a block of size 28 free'd
==24387==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24387==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==24387==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==24387==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==24387==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24387== 
==24387== Invalid read of size 1
==24387==    at 0x43C2B8E: vfprintf (vfprintf.c:1624)
==24387==    by 0x447B437: __vsnprintf_chk (vsnprintf_chk.c:65)
==24387==    by 0x4780505: ???
==24387==  Address 0x4781d88 is 24 bytes inside a block of size 28 free'd
==24387==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24387==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==24387==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==24387==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==24387==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==24387==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==24387==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==24387==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24387== 
==24387== Invalid read of size 1
==24387==    at 0x43EE428: _IO_default_xsputn (genops.c:480)
==24387==    by 0x43C2BDF: vfprintf (vfprintf.c:1624)
==24387==    by 0x447B437: __vsnprintf_chk (vsnprintf_chk.c:65)
==24387==    by 0x4780505: ???
==24387==  Address 0x4781d88 is 24 bytes inside a block of size 28 free'd
==24387==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24387==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==24387==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==24387==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==24387==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==24387==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==24387==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==24387==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24387== 
==24387== Invalid read of size 1
==24387==    at 0x43EE434: _IO_default_xsputn (genops.c:479)
==24387==    by 0x43C2BDF: vfprintf (vfprintf.c:1624)
==24387==    by 0x447B437: __vsnprintf_chk (vsnprintf_chk.c:65)
==24387==    by 0x4780505: ???
==24387==  Address 0x4781d8a is 26 bytes inside a block of size 28 free'd
==24387==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24387==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==24387==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==24387==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==24387==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==24387==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==24387==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==24387==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24387== 
rust: task failed at 'meh', /home/elliottslaughter/rust3/src/test/run-fail/fmt-fail.rs:4
rust: domain main @0x467f328 root task failed
fmt-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/for-each-loop-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/for-each-loop-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'moop', /home/elliottslaughter/rust3/src/test/run-fail/for-each-loop-fail.rs:3
rust: domain main @0x467f338 root task failed
leaked memory in rust main loop (1 objects)
for-each-loop-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==24524== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==24524==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24524==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==24524==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==24524==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==24524==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==24524==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24524== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/if-check-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/if-check-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'Number is odd', /home/elliottslaughter/rust3/src/test/run-fail/if-check-fail.rs:12
rust: domain main @0x4536440 root task failed
leaked memory in rust main loop (1 objects)
if-check-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==24658== 38 bytes in 1 blocks are definitely lost in loss record 3 of 5
==24658==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24658==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==24658==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==24658==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==24658==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==24658==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24658== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/if-cond-bot.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/if-cond-bot.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"bye"
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/if-cond-bot.rs:2
rust: domain main @0x4536430 root task failed
leaked memory in rust main loop (1 objects)
if-cond-bot.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==24814== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==24814==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24814==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==24814==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==24814==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==24814==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==24814==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24814== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/issue-1459.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/issue-1459.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'roflcopter', /home/elliottslaughter/rust3/src/test/run-fail/issue-1459.rs:3
rust: domain main @0x4536278 root task failed
leaked memory in rust main loop (1 objects)
issue-1459.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==24954== 35 bytes in 1 blocks are definitely lost in loss record 3 of 5
==24954==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==24954==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==24954==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==24954==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==24954==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==24954==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==24954== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/issue-2144.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/issue-2144.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task 4537070 ran out of stack
rust: domain main @0x4536458 root task failed
leaked memory in rust main loop (98239 objects)
issue-2144.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==25098== 976 bytes in 61 blocks are possibly lost in loss record 6 of 7
==25098==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==25098== 
==25098== 1,570,784 bytes in 98,174 blocks are definitely lost in loss record 7 of 7
==25098==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==25098== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/issue-2156.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/issue-2156.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/issue-2156.rs:8
rust: domain main @0x467fa60 root task failed
leaked memory in rust main loop (1 objects)
issue-2156.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==25541== 28 bytes in 1 blocks are definitely lost in loss record 2 of 5
==25541==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==25541==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==25541==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==25541==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==25541==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==25541==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==25541== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/issue-948.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/issue-948.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'beep boop', /home/elliottslaughter/rust3/src/test/run-fail/issue-948.rs:4
rust: domain main @0x4536278 root task failed
leaked memory in rust main loop (1 objects)
issue-948.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==25921== 34 bytes in 1 blocks are definitely lost in loss record 3 of 5
==25921==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==25921==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==25921==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==25921==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==25921==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==25921==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==25921== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/linked-failure3.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/linked-failure3.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'grandchild dies', /home/elliottslaughter/rust3/src/test/run-fail/linked-failure3.rs:8
rust: domain main @0x467fb68 root task failed
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
leaked memory in rust main loop (1 objects)
linked-failure3.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==26434== 40 bytes in 1 blocks are definitely lost in loss record 3 of 5
==26434==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==26434==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==26434==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==26434==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==26434==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==26434==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==26434== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/morestack2.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==27161== Thread 3:
==27161== Invalid read of size 4
==27161==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x8048B6C: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==    by 0x8048AF1: getbig_call_c_and_fail::_ce1ca1d932881bb7::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161==  Address 0x484a390 is 0 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x4335929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a394 is 4 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x43363F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==27161==    by 0x4335DEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==27161==    by 0x433597C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a3a0 is 16 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x433597D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a390 is 0 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x4336DCA: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:63)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a394 is 4 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x4336DFF: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:69)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a398 is 8 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid read of size 4
==27161==    at 0x4336E0C: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:70)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a39c is 12 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid write of size 4
==27161==    at 0x4336E43: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:77)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a398 is 8 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid write of size 4
==27161==    at 0x4336E4A: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:78)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a39c is 12 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid write of size 4
==27161==    at 0x4336E51: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:79)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a394 is 4 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
==27161== Invalid free() / delete / delete[] / realloc()
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==27161==    by 0x4335990: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:205)
==27161==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27161==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==27161==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161==  Address 0x484a390 is 0 bytes inside a block of size 32 free'd
==27161==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==27161==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27161==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27161==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27161== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/morestack2.rs:19
rust: domain main @0x467f640 root task failed
morestack2.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.
==27161== Thread 1:
==27161== 144 bytes in 1 blocks are possibly lost in loss record 19 of 27
==27161==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==27161==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==27161==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==27161==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==27161==    by 0x432BBDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==27161==    by 0x4312138: rust_start (rust.cpp:96)
==27161==    by 0x8048EF5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161== 
==27161== 144 bytes in 1 blocks are possibly lost in loss record 20 of 27
==27161==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27161==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==27161==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==27161==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==27161==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==27161==    by 0x4318E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==27161==    by 0x4319D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==27161==    by 0x432B8E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==27161==    by 0x432BA0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==27161==    by 0x431214C: rust_start (rust.cpp:99)
==27161==    by 0x8048EF5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/morestack2.stage2-i686-unknown-linux-gnu)
==27161== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/port-type.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/port-type.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'meep', /home/elliottslaughter/rust3/src/test/run-fail/port-type.rs:18
rust: domain main @0x467f278 root task failed
leaked memory in rust main loop (1 objects)
port-type.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==27418== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==27418==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27418==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==27418==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==27418==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==27418==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==27418==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27418== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/result-get-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==27482== Thread 3:
==27482== Invalid free() / delete / delete[] / realloc()
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049785: glue_drop_1686 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482==  Address 0x4638230 is 0 bytes inside a block of size 53 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482== 
==27482== Invalid read of size 4
==27482==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==  Address 0x46381e0 is 0 bytes inside a block of size 30 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x804984C: glue_drop_1697 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482== 
==27482== Invalid read of size 4
==27482==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==  Address 0x46381e4 is 4 bytes inside a block of size 30 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x804984C: glue_drop_1697 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482== 
==27482== Invalid read of size 4
==27482==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==27482==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==27482==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==  Address 0x46381f0 is 16 bytes inside a block of size 30 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x804984C: glue_drop_1697 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482== 
==27482== Invalid read of size 4
==27482==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==  Address 0x46381e0 is 0 bytes inside a block of size 30 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x804984C: glue_drop_1697 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482== 
==27482== Invalid free() / delete / delete[] / realloc()
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==  Address 0x46381e0 is 0 bytes inside a block of size 30 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D675B: upcall_exchange_free (rust_task.h:478)
==27482==    by 0x41D688C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==27482==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x804969A: glue_free_1680 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x8049638: glue_drop_1678 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x804984C: glue_drop_1697 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/result-get-fail.stage2-i686-unknown-linux-gnu)
==27482==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27482== 
==27482== Invalid read of size 1
==27482==    at 0x4279B8E: vfprintf (vfprintf.c:1624)
==27482==    by 0x4332437: __vsnprintf_chk (vsnprintf_chk.c:65)
==27482==    by 0x46378B5: ???
==27482==  Address 0x46395e0 is 24 bytes inside a block of size 88 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482== 
==27482== Invalid read of size 4
==27482==    at 0x42B101C: __GI_mempcpy (mempcpy.S:60)
==27482==    by 0x42A5483: _IO_default_xsputn (genops.c:468)
==27482==    by 0x4279BDF: vfprintf (vfprintf.c:1624)
==27482==    by 0x4332437: __vsnprintf_chk (vsnprintf_chk.c:65)
==27482==    by 0x46378B5: ???
==27482==  Address 0x46395e0 is 24 bytes inside a block of size 88 free'd
==27482==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27482==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27482==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27482==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==27482==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27482==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27482==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27482==    by 0x41D5842: upcall_call_shim_on_c_stack (rust_task.h:478)
==27482==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27482== 
rust: task failed at 'get called on error result: ~"kitty"', /home/elliottslaughter/rust3/src/test/run-fail/result-get-fail.rs:1
rust: domain main @0x45366d0 root task failed
result-get-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/rhs-type.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/rhs-type.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'bye', /home/elliottslaughter/rust3/src/test/run-fail/rhs-type.rs:4
rust: domain main @0x4536278 root task failed
leaked memory in rust main loop (1 objects)
rhs-type.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==27552== 28 bytes in 1 blocks are definitely lost in loss record 2 of 5
==27552==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27552==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==27552==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==27552==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==27552==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==27552==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27552== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/rt-log-trunc.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/rt-log-trunc.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa[...]
rust: domain main @0x4536310 root task failed
leaked memory in rust main loop (1 objects)
rt-log-trunc.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==27612== 2,932 bytes in 1 blocks are definitely lost in loss record 5 of 5
==27612==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27612==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==27612==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==27612==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==27612==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==27612==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27612== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/rt-set-exit-status-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/rt-set-exit-status-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"whatever"
==27686== Thread 3:
==27686== Invalid read of size 4
==27686==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27686==  Address 0x4637e50 is 0 bytes inside a block of size 33 free'd
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686== 
==27686== Invalid read of size 4
==27686==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==27686==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27686==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27686==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686==  Address 0x4637e54 is 4 bytes inside a block of size 33 free'd
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686== 
==27686== Invalid read of size 4
==27686==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==27686==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==27686==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==27686==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27686==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27686==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686==  Address 0x4637e60 is 16 bytes inside a block of size 33 free'd
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686== 
==27686== Invalid read of size 4
==27686==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==27686==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27686==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27686==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686==  Address 0x4637e50 is 0 bytes inside a block of size 33 free'd
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686== 
==27686== Invalid free() / delete / delete[] / realloc()
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==27686==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27686==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27686==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686==  Address 0x4637e50 is 0 bytes inside a block of size 33 free'd
==27686==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27686==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27686==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27686==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==27686==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27686== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/rt-set-exit-status-fail.rs:9
rust: domain main @0x4536338 root task failed
rt-set-exit-status-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/rt-set-exit-status-fail2.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/rt-set-exit-status-fail2.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"whatever"
==27745== Thread 3:
==27745== Invalid read of size 4
==27745==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==  Address 0x4637f90 is 0 bytes inside a block of size 33 free'd
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745== 
==27745== Invalid read of size 4
==27745==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==27745==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27745==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27745==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27745==  Address 0x4637f94 is 4 bytes inside a block of size 33 free'd
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745== 
==27745== Invalid read of size 4
==27745==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==27745==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==27745==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==27745==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27745==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27745==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27745==  Address 0x4637fa0 is 16 bytes inside a block of size 33 free'd
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745== 
==27745== Invalid read of size 4
==27745==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==27745==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27745==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27745==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27745==  Address 0x4637f90 is 0 bytes inside a block of size 33 free'd
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745== 
==27745== Invalid free() / delete / delete[] / realloc()
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27745==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==27745==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==27745==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==27745==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==27745==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27745==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27745==  Address 0x4637f90 is 0 bytes inside a block of size 33 free'd
==27745==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27745== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/rt-set-exit-status-fail2.rs:19
rust: domain main @0x4536478 root task failed
rt-set-exit-status-fail2.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/run-unexported-tests.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/run-unexported-tests.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

running 1 test
test m::unexported ... FAILED

failures:
    m::unexported

result: FAILED. 0 passed; 1 failed; 0 ignored


------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'runned an unexported test', /home/elliottslaughter/rust3/src/test/run-fail/run-unexported-tests.rs:12
rust: task failed at 'Some tests failed', /home/elliottslaughter/rust3/src/libstd/test.rs:61
rust: domain main @0x467f488 root task failed
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
leaked memory in rust main loop (1 objects)
run-unexported-tests.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==27864== 50 bytes in 1 blocks are definitely lost in loss record 3 of 5
==27864==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27864== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/small-negative-indexing.rs ... FAILED

error: run-fail test isn't valgrind-clean!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/small-negative-indexing.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==27912== Thread 3:
==27912== Invalid read of size 4
==27912==    at 0x804A0E9: glue_drop_1756 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/small-negative-indexing.stage2-i686-unknown-linux-gnu)
==27912==    by 0x804A069: glue_drop_1752 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/small-negative-indexing.stage2-i686-unknown-linux-gnu)
==27912==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27912==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==  Address 0x46386c0 is 0 bytes inside a block of size 16 free'd
==27912==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27912==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27912==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==27912==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==27912==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27912== 
==27912== Invalid write of size 4
==27912==    at 0x804A0F1: glue_drop_1756 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/small-negative-indexing.stage2-i686-unknown-linux-gnu)
==27912==    by 0x804A069: glue_drop_1752 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/small-negative-indexing.stage2-i686-unknown-linux-gnu)
==27912==    by 0x41CE882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==27912==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==27912==  Address 0x46386c0 is 0 bytes inside a block of size 16 free'd
==27912==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==27912==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==27912==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==27912==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==27912==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==27912== 
rust: task failed at 'bounds check', /home/elliottslaughter/rust3/src/test/run-fail/small-negative-indexing.rs:5
rust: domain main @0x4536ba8 root task failed

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/task-comm-recv-block.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/task-comm-recv-block.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'goodfail', /home/elliottslaughter/rust3/src/test/run-fail/task-comm-recv-block.rs:7
rust: domain main @0x467fb20 root task failed
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
leaked memory in rust main loop (1 objects)
task-comm-recv-block.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==28031== 33 bytes in 1 blocks are definitely lost in loss record 3 of 5
==28031==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28031==    by 0x43367FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==28031==    by 0x4336872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==28031==    by 0x432A87A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==28031==    by 0x431D61E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==28031==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28031== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/task-spawn-barefn.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/task-spawn-barefn.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==28129== Thread 3:
==28129== Invalid read of size 4
==28129==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x8048CA8: startfn::_ff4acabba668af63::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/task-spawn-barefn.stage2-i686-unknown-linux-gnu)
==28129==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==  Address 0x463ef28 is 0 bytes inside a block of size 67 free'd
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129== 
==28129== Invalid read of size 4
==28129==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==28129==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==28129==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==28129==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28129==  Address 0x463ef2c is 4 bytes inside a block of size 67 free'd
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129== 
==28129== Invalid read of size 4
==28129==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==28129==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==28129==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==28129==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==28129==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==28129==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28129==  Address 0x463ef38 is 16 bytes inside a block of size 67 free'd
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129== 
==28129== Invalid read of size 4
==28129==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==28129==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==28129==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==28129==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28129==  Address 0x463ef28 is 0 bytes inside a block of size 67 free'd
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129== 
==28129== Invalid free() / delete / delete[] / realloc()
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==28129==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==28129==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==28129==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==28129==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==28129==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==28129==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28129==  Address 0x463ef28 is 0 bytes inside a block of size 67 free'd
==28129==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28129== 
rust: task failed at 'Assertion str::is_empty(~"Ensure that the child task runs by failing") failed', /home/elliottslaughter/rust3/src/test/run-fail/task-spawn-barefn.rs:10
rust: domain main @0x4536440 root task failed
task-spawn-barefn.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unique-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unique-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unique-fail.rs:2
rust: domain main @0x4536278 root task failed
leaked memory in rust main loop (1 objects)
unique-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==28760== 17 bytes in 1 blocks are definitely lost in loss record 1 of 5
==28760==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28760==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==28760==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==28760==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==28760==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==28760==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28760== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-alt.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-alt.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'non-exhaustive match failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-alt.rs:8
rust: domain main @0x4536658 root task failed
leaked memory in rust main loop (1 objects)
unwind-alt.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==28910== 53 bytes in 1 blocks are definitely lost in loss record 3 of 5
==28910==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28910==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==28910==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==28910==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==28910==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==28910==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==28910== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-box.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-box.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==30384== Thread 3:
==30384== Invalid read of size 4
==30384==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30384==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30384==  Address 0x4637e40 is 0 bytes inside a block of size 20 free'd
==30384==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30384==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==30384==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==30384==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==30384==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30384== 
==30384== Invalid read of size 4
==30384==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==30384==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30384==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30384==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30384==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30384==  Address 0x4637e44 is 4 bytes inside a block of size 20 free'd
==30384==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30384==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==30384==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==30384==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==30384==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30384== 
==30384== Invalid read of size 4
==30384==    at 0x41ED944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==30384==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30384==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30384==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30384==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30384==  Address 0x1c is not stack'd, malloc'd or (recently) free'd
==30384== 
==30384== 
==30384== Process terminating with default action of signal 11 (SIGSEGV)
==30384==  Access not within mapped region at address 0x1C
==30384==    at 0x41ED944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==30384==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30384==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30384==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30384==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30384==  If you believe this happened as a result of a stack
==30384==  overflow in your program's main thread (unlikely but
==30384==  possible), you can try to increase the size of the
==30384==  main thread stack using the --main-stacksize= flag.
==30384==  The main thread stack size used in this run was 16777216.
==30384== Thread 1:
==30384== 144 bytes in 1 blocks are possibly lost in loss record 21 of 30
==30384==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30384==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==30384==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==30384==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==30384==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==30384==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==30384==    by 0x41CA138: rust_start (rust.cpp:96)
==30384==    by 0x8048AD5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-box.stage2-i686-unknown-linux-gnu)
==30384== 
==30384== 144 bytes in 1 blocks are possibly lost in loss record 22 of 30
==30384==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30384==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==30384==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==30384==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==30384==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==30384==    by 0x41D0E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==30384==    by 0x41D1D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==30384==    by 0x41E38E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==30384==    by 0x41E3A0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==30384==    by 0x41CA14C: rust_start (rust.cpp:99)
==30384==    by 0x8048AD5: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-box.stage2-i686-unknown-linux-gnu)
==30384== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==30632== Thread 3:
==30632== Invalid read of size 4
==30632==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30632==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30632==  Address 0x4637e28 is 0 bytes inside a block of size 20 free'd
==30632==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30632==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==30632==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==30632==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==30632==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30632== 
==30632== Invalid read of size 4
==30632==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==30632==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30632==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30632==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30632==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30632==  Address 0x4637e2c is 4 bytes inside a block of size 20 free'd
==30632==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30632==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==30632==    by 0x41EEE66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==30632==    by 0x41D52CA: upcall_s_free (rust_upcall.cpp:282)
==30632==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30632== 
==30632== Invalid read of size 4
==30632==    at 0x41ED944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==30632==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30632==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30632==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30632==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30632==  Address 0x1c is not stack'd, malloc'd or (recently) free'd
==30632== 
==30632== 
==30632== Process terminating with default action of signal 11 (SIGSEGV)
==30632==  Access not within mapped region at address 0x1C
==30632==    at 0x41ED944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==30632==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==30632==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==30632==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==30632==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==30632==  If you believe this happened as a result of a stack
==30632==  overflow in your program's main thread (unlikely but
==30632==  possible), you can try to increase the size of the
==30632==  main thread stack using the --main-stacksize= flag.
==30632==  The main thread stack size used in this run was 16777216.
==30632== Thread 1:
==30632== 144 bytes in 1 blocks are possibly lost in loss record 21 of 30
==30632==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30632==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==30632==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==30632==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==30632==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==30632==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==30632==    by 0x41CA138: rust_start (rust.cpp:96)
==30632==    by 0x8048A95: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-fail.stage2-i686-unknown-linux-gnu)
==30632== 
==30632== 144 bytes in 1 blocks are possibly lost in loss record 22 of 30
==30632==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==30632==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==30632==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==30632==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==30632==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==30632==    by 0x41D0E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==30632==    by 0x41D1D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==30632==    by 0x41E38E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==30632==    by 0x41E3A0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==30632==    by 0x41CA14C: rust_start (rust.cpp:99)
==30632==    by 0x8048A95: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-fail.stage2-i686-unknown-linux-gnu)
==30632== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-lambda.rs ... FAILED

error: run-fail test isn't valgrind-clean!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-lambda.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==31452== Thread 3:
==31452== Invalid read of size 4
==31452==    at 0x41EE13F: shape::data<annihilator, shape::ptr>::walk_uniq_contents1() (rust_shape.h:682)
==31452==    by 0x41EE1D8: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_uniq0() (rust_box_annihilator.cpp:83)
==31452==    by 0x41EDE44: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:309)
==31452==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452==  Address 0x4638da4 is 4 bytes inside a block of size 32 free'd
==31452==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31452==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==31452==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31452==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452== 
==31452== Invalid read of size 4
==31452==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==31452==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==31452==    by 0x41EE172: shape::data<annihilator, shape::ptr>::walk_uniq_contents1() (rust_box_annihilator.cpp:163)
==31452==    by 0x41EE1D8: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_uniq0() (rust_box_annihilator.cpp:83)
==31452==    by 0x41EDE44: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:309)
==31452==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452==  Address 0x4638db0 is 16 bytes inside a block of size 32 free'd
==31452==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31452==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==31452==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31452==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452== 
==31452== Invalid free() / delete / delete[] / realloc()
==31452==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31452==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==31452==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31452==    by 0x41EE1ED: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_uniq0() (rust_box_annihilator.cpp:85)
==31452==    by 0x41EDE44: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:309)
==31452==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452==  Address 0x4638da0 is 0 bytes inside a block of size 32 free'd
==31452==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31452==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==31452==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31452==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==31452==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31452==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==31452==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452== 
rust: task failed at 'so yummy', /home/elliottslaughter/rust3/src/test/run-fail/unwind-lambda.rs:13
rust: domain main @0x45371f0 root task failed
==31452== Thread 1:
==31452== 33 bytes in 1 blocks are definitely lost in loss record 1 of 2
==31452==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31452==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==31452==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==31452==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==31452==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==31452==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31452== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-misc-1.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==31652== Thread 3:
==31652== Invalid read of size 4
==31652==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x80497C1: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8053433: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==  Address 0x478a510 is 0 bytes inside a block of size 29 free'd
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431E75B: upcall_exchange_free (rust_task.h:478)
==31652==    by 0x431E88C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==31652==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x8049EEA: glue_free_2543 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x804974C: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652== 
==31652== Invalid read of size 4
==31652==    at 0x4335929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==31652==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31652==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==31652==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431D842: upcall_call_shim_on_c_stack (rust_task.h:478)
==31652==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x80497C1: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==  Address 0x478a514 is 4 bytes inside a block of size 29 free'd
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431E75B: upcall_exchange_free (rust_task.h:478)
==31652==    by 0x431E88C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==31652==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x8049EEA: glue_free_2543 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x804974C: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652== 
==31652== Invalid read of size 4
==31652==    at 0x43363F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==31652==    by 0x4335DEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==31652==    by 0x433597C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==31652==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31652==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==31652==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431D842: upcall_call_shim_on_c_stack (rust_task.h:478)
==31652==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==  Address 0x478a520 is 16 bytes inside a block of size 29 free'd
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431E75B: upcall_exchange_free (rust_task.h:478)
==31652==    by 0x431E88C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==31652==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x8049EEA: glue_free_2543 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x804974C: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652== 
==31652== Invalid read of size 4
==31652==    at 0x433597D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==31652==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31652==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==31652==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431D842: upcall_call_shim_on_c_stack (rust_task.h:478)
==31652==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x80497C1: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==  Address 0x478a510 is 0 bytes inside a block of size 29 free'd
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431E75B: upcall_exchange_free (rust_task.h:478)
==31652==    by 0x431E88C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==31652==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x8049EEA: glue_free_2543 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x804974C: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652== 
==31652== Invalid free() / delete / delete[] / realloc()
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==31652==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==31652==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==31652==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431D842: upcall_call_shim_on_c_stack (rust_task.h:478)
==31652==    by 0x409AFC9: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x4099CDA: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==  Address 0x478a510 is 0 bytes inside a block of size 29 free'd
==31652==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==31652==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==31652==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==31652==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==31652==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==31652==    by 0x431E75B: upcall_exchange_free (rust_task.h:478)
==31652==    by 0x431E88C: rust_upcall_exchange_free (rust_upcall.cpp:208)
==31652==    by 0x405C9E4: rt::rt_exchange_free::_52b44c3ef7ee9db::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==31652==    by 0x8049EEA: glue_free_2543 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x804974C: main::hash::_10d591ade610db69::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652==    by 0x8050034: map::chained::__extensions__::insert_2946::_c0ce6617b8ed4415::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-misc-1.stage2-i686-unknown-linux-gnu)
==31652== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-misc-1.rs:10
rust: domain main @0x46836c0 root task failed
unwind-misc-1.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-box.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-partial-box.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-box.rs:3
rust: domain main @0x4536478 root task failed
==32070== Thread 3:
==32070== Invalid read of size 4
==32070==    at 0x41EE13F: shape::data<annihilator, shape::ptr>::walk_uniq_contents1() (rust_shape.h:682)
==32070==    by 0x41EE1D8: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_uniq0() (rust_box_annihilator.cpp:83)
==32070==    by 0x41EDE44: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:309)
==32070==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==32070==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==32070==    by 0x41EDA50: annihilate_boxes(rust_task*) (rust_box_annihilator.cpp:223)
==32070==    by 0x41D302F: cleanup_task(cleanup_args*) (rust_task.cpp:137)
==32070==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==32070==  Address 0x4 is not stack'd, malloc'd or (recently) free'd
==32070== 
==32070== 
==32070== Process terminating with default action of signal 11 (SIGSEGV)
==32070==  Access not within mapped region at address 0x4
==32070==    at 0x41EE13F: shape::data<annihilator, shape::ptr>::walk_uniq_contents1() (rust_shape.h:682)
==32070==    by 0x41EE1D8: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_uniq0() (rust_box_annihilator.cpp:83)
==32070==    by 0x41EDE44: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:309)
==32070==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==32070==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==32070==    by 0x41EDA50: annihilate_boxes(rust_task*) (rust_box_annihilator.cpp:223)
==32070==    by 0x41D302F: cleanup_task(cleanup_args*) (rust_task.cpp:137)
==32070==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==32070==  If you believe this happened as a result of a stack
==32070==  overflow in your program's main thread (unlikely but
==32070==  possible), you can try to increase the size of the
==32070==  main thread stack using the --main-stacksize= flag.
==32070==  The main thread stack size used in this run was 16777216.
==32070== Thread 1:
==32070== 144 bytes in 1 blocks are possibly lost in loss record 20 of 29
==32070==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32070==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==32070==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==32070==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==32070==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==32070==    by 0x41E3BDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==32070==    by 0x41CA138: rust_start (rust.cpp:96)
==32070==    by 0x8049255: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-partial-box.stage2-i686-unknown-linux-gnu)
==32070== 
==32070== 144 bytes in 1 blocks are possibly lost in loss record 21 of 29
==32070==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32070==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==32070==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==32070==    by 0x4439470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==32070==    by 0x41CA02E: rust_thread::start() (rust_thread.cpp:38)
==32070==    by 0x41D0E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==32070==    by 0x41D1D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==32070==    by 0x41E38E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==32070==    by 0x41E3A0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==32070==    by 0x41CA14C: rust_start (rust.cpp:99)
==32070==    by 0x8049255: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/run-fail/unwind-partial-box.stage2-i686-unknown-linux-gnu)
==32070== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-unique.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-partial-unique.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-unique.rs:3
rust: domain main @0x4536478 root task failed
leaked memory in rust main loop (1 objects)
unwind-partial-unique.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==32163== 20 bytes in 1 blocks are definitely lost in loss record 1 of 5
==32163==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32163== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-vec.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-partial-vec.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-partial-vec.rs:3
rust: domain main @0x4536658 root task failed
leaked memory in rust main loop (2 objects)
unwind-partial-vec.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==32292== 80 (40 direct, 40 indirect) bytes in 1 blocks are definitely lost in loss record 4 of 6
==32292==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32292==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==32292==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==32292==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==32292==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==32292==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==32292== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-rec2.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-rec2.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-rec2.rs:8
rust: domain main @0x4536430 root task failed
leaked memory in rust main loop (1 objects)
unwind-rec2.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==32508== 52 bytes in 1 blocks are definitely lost in loss record 3 of 5
==32508==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32508==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==32508==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==32508==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==32508==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==32508==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==32508== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/unwind-unique.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/unwind-unique.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==753== Thread 3:
==753== Invalid read of size 4
==753==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==753==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==753==  Address 0x4637e48 is 0 bytes inside a block of size 20 free'd
==753==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==753==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==753==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==753==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753== 
==753== Invalid read of size 4
==753==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==753==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==753==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==753==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753==  Address 0x4637e4c is 4 bytes inside a block of size 20 free'd
==753==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==753==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==753==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==753==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753== 
==753== Invalid read of size 4
==753==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==753==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==753==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==753==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753==  Address 0x4637e48 is 0 bytes inside a block of size 20 free'd
==753==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==753==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==753==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==753==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753== 
==753== Invalid free() / delete / delete[] / realloc()
==753==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==753==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==753==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==753==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==753==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==753==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==753==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753==  Address 0x4637e48 is 0 bytes inside a block of size 20 free'd
==753==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==753==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==753==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==753==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==753==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==753== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/run-fail/unwind-unique.rs:4
rust: domain main @0x4536338 root task failed
unwind-unique.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/while-body-fails.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/while-body-fails.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'quux', /home/elliottslaughter/rust3/src/test/run-fail/while-body-fails.rs:2
rust: domain main @0x4536278 root task failed
leaked memory in rust main loop (1 objects)
while-body-fails.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==1160== 29 bytes in 1 blocks are definitely lost in loss record 2 of 5
==1160==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==1160==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==1160==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==1160==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==1160==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==1160==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==1160== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-fail] /home/elliottslaughter/rust3/src/test/run-fail/while-fail.rs ... FAILED

error: failure produced the wrong error code: 1
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/run-fail/while-fail.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'giraffe', /home/elliottslaughter/rust3/src/test/run-fail/while-fail.rs:3
rust: domain main @0x4536310 root task failed
leaked memory in rust main loop (1 objects)
while-fail.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.
==1383== 32 bytes in 1 blocks are definitely lost in loss record 3 of 5
==1383==    at 0x402CE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==1383==    by 0x41EE7FB: memory_region::malloc(unsigned int, char const*, bool) (memory_region.cpp:110)
==1383==    by 0x41EE872: memory_region::calloc(unsigned int, char const*) (memory_region.cpp:131)
==1383==    by 0x41E287A: rust_kernel::calloc(unsigned int, char const*) (rust_kernel.cpp:68)
==1383==    by 0x41D561E: upcall_s_exchange_malloc (rust_upcall.cpp:153)
==1383==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==1383== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-pass] /home/elliottslaughter/rust3/src/test/bench/task-perf-alloc-unwind.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
==22470== Thread 3:
==22470== Invalid read of size 4
==22470==    at 0x804F639: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F47E: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a0f88 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F641: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F47E: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a0f88 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F747: glue_drop_2836 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FA58: glue_free_2852 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F9D8: glue_drop_2850 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4B2: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a0fe8 is 16 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F7FD: glue_drop_2840 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F78E: glue_drop_2836 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FA58: glue_free_2852 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F9D8: glue_drop_2850 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4B2: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a0ff0 is 24 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F819: glue_drop_2840 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F78E: glue_drop_2836 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FA58: glue_free_2852 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F9D8: glue_drop_2850 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4B2: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a1028 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F821: glue_drop_2840 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F78E: glue_drop_2836 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FA58: glue_free_2852 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F9D8: glue_drop_2850 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4B2: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a1028 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid free() / delete / delete[] / realloc()
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x48a0fd8 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804B939: glue_drop_2662 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FAF9: glue_drop_2856 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4E6: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1078 is 0 bytes inside a block of size 24 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804B941: glue_drop_2662 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FAF9: glue_drop_2856 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F4E6: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1078 is 0 bytes inside a block of size 24 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804BE61: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F51A: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a10c4 is 4 bytes inside a block of size 24 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804FB37: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x80516B8: glue_drop_2969 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BEA0: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F51A: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a10d4 is 20 bytes inside a block of size 24 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804BE5F: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x80516B8: glue_drop_2969 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BEA0: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F51A: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a10d4 is 20 bytes inside a block of size 24 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804BE61: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x80516B8: glue_drop_2969 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BEA0: glue_free_2684 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804BE08: glue_drop_2682 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FB79: glue_drop_2860 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F51A: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a0c7c is 4 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F639: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FBDE: glue_drop_2864 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F54E: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1108 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F641: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FBDE: glue_drop_2864 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F54E: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1108 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F747: glue_drop_2836 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FA58: glue_free_2852 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F9D8: glue_drop_2850 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FC12: glue_drop_2864 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F54E: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a11b8 is 16 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804FD50: glue_drop_2874 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FCF8: glue_free_2870 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FC78: glue_drop_2868 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F582: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a13c0 is 16 bytes inside a block of size 64 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F61D: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FD9F: glue_drop_2874 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FCF8: glue_free_2870 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FC78: glue_drop_2868 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F582: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a13c8 is 24 bytes inside a block of size 64 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F639: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FD9F: glue_drop_2874 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FCF8: glue_free_2870 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FC78: glue_drop_2868 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F582: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a12f0 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F641: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FD9F: glue_drop_2874 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FCF8: glue_free_2870 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FC78: glue_drop_2868 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F582: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==  Address 0x48a12f0 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F639: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FE56: glue_drop_2878 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F5B6: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1420 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F641: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FE56: glue_drop_2878 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F5B6: glue_drop_2826 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F418: glue_drop_2822 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1420 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x804F639: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FE56: glue_drop_2878 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1420 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid write of size 4
==22470==    at 0x804F641: glue_drop_2830 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804FE56: glue_drop_2878 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x4316882: rust_call_tydesc_glue (rust_builtin.cpp:938)
==22470==    by 0x409AFAD: gc::cleanup_stack_for_failure::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x4099D0F: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1420 is 0 bytes inside a block of size 28 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x4336E66: boxed_region::free(rust_opaque_box*) (boxed_region.cpp:81)
==22470==    by 0x431D2CA: upcall_s_free (rust_upcall.cpp:282)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x804E163: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x804F2C3: recurse_or_fail::_93518535c73cd9::_00 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==    by 0x8053CAB: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470==  Address 0x48a1298 is 0 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x4335929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x48a129c is 4 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x43363F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==22470==    by 0x4335DEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==22470==    by 0x433597C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x48a12a8 is 16 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x433597D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x48a1298 is 0 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid free() / delete / delete[] / realloc()
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x43359BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x48a1298 is 0 bytes inside a block of size 40 free'd
==22470==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x43368DA: memory_region::free(void*) (memory_region.cpp:64)
==22470==    by 0x432A8F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22470==    by 0x431D51B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 
==22470== Invalid read of size 4
==22470==    at 0x4335944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  Address 0x1c is not stack'd, malloc'd or (recently) free'd
==22470== 
==22470== 
==22470== Process terminating with default action of signal 11 (SIGSEGV)
==22470==  Access not within mapped region at address 0x1C
==22470==    at 0x4335944: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:198)
==22470==    by 0x43359F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22470==    by 0x4315D19: rust_annihilate_box (rust_builtin.cpp:720)
==22470==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470==  If you believe this happened as a result of a stack
==22470==  overflow in your program's main thread (unlikely but
==22470==  possible), you can try to increase the size of the
==22470==  main thread stack using the --main-stacksize= flag.
==22470==  The main thread stack size used in this run was 16777216.
==22470== Thread 1:
==22470== 144 bytes in 1 blocks are possibly lost in loss record 32 of 55
==22470==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==22470==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==22470==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==22470==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==22470==    by 0x432BBDB: rust_kernel::rust_kernel(rust_env*) (rust_kernel.cpp:37)
==22470==    by 0x4312138: rust_start (rust.cpp:96)
==22470==    by 0x8049825: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470== 
==22470== 144 bytes in 1 blocks are possibly lost in loss record 33 of 55
==22470==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==22470==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==22470==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==22470==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==22470==    by 0x4318E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==22470==    by 0x4319D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==22470==    by 0x432B8E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==22470==    by 0x432BA0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==22470==    by 0x431214C: rust_start (rust.cpp:99)
==22470==    by 0x8049825: main (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-alloc-unwind.stage2-i686-unknown-linux-gnu)
==22470== 
==22470== 144 bytes in 1 blocks are possibly lost in loss record 34 of 55
==22470==    at 0x402B5E6: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22470==    by 0x40112F4: allocate_dtv (dl-tls.c:297)
==22470==    by 0x4011A9B: _dl_allocate_tls (dl-tls.c:461)
==22470==    by 0x4582470: pthread_create@@GLIBC_2.1 (allocatestack.c:571)
==22470==    by 0x431202E: rust_thread::start() (rust_thread.cpp:38)
==22470==    by 0x4318E21: rust_thread_sched_launcher::start() (rust_sched_launcher.h:33)
==22470==    by 0x4319D18: rust_scheduler::start_task_threads() (rust_scheduler.cpp:68)
==22470==    by 0x432B8E3: rust_kernel::create_scheduler(rust_sched_launcher_factory*, unsigned int, bool) (rust_kernel.cpp:114)
==22470==    by 0x432BA0E: rust_kernel::create_scheduler(unsigned int) (rust_kernel.cpp:83)
==22470==    by 0x4314E77: rust_new_sched (rust_builtin.cpp:579)
==22470==    by 0x4099059: rust_new_sched__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22470==    by 0x43370F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22470== 

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [run-pass] /home/elliottslaughter/rust3/src/test/bench/task-perf-linked-failure.rs ... FAILED

error: test run failed!
command: /usr/bin/valgrind --error-exitcode=100 --quiet --suppressions=/home/elliottslaughter/rust3/src/etc/x86.supp --tool=memcheck --leak-check=full i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: ~"grandparent group waiting"
rust: ~"middle group waiting"
rust: ~"Grandchild group getting started"
rust: ~"Grandchild group ready to go."
rust: ~"Middle group wakes up and exits"
rust: ~"Grandparent group wakes up and fails"
==22510== Thread 3:
==22510== Invalid free() / delete / delete[] / realloc()
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510==  Address 0x4aba950 is 0 bytes inside a block of size 61 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid read of size 4
==22510==    at 0x4099CBB: gc::walk_gc_roots::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x40999DA: stackwalk::walk_stack::_8169ff1cf81c20f3::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x409A271: gc::cleanup_stack_for_failure::_9531951b4f79f8b::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x405BA03: rt::rt_fail::_b957bac32f553616::_04 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x804F639: main::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu)
==22510==    by 0x804EC24: task::__extensions__::try_2003::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu)
==22510==    by 0x40976DC: task::spawn_raw::make_child_wrapper::anon (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x40CFE27: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==  Address 0x4abaa10 is 0 bytes inside a block of size 88 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid read of size 4
==22510==    at 0x41ED929: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:193)
==22510==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22510==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22510==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510==  Address 0x4abaa14 is 4 bytes inside a block of size 88 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid read of size 4
==22510==    at 0x41EE3F0: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk_unboxed_vec0() (rust_shape.h:1049)
==22510==    by 0x41EDDEF: shape::ctxt<shape::data<annihilator, shape::ptr> >::walk() (rust_shape.h:319)
==22510==    by 0x41ED97C: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:199)
==22510==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22510==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22510==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510==  Address 0x4abaa20 is 16 bytes inside a block of size 88 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid read of size 4
==22510==    at 0x41ED97D: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:202)
==22510==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22510==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22510==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510==  Address 0x4abaa10 is 0 bytes inside a block of size 88 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid free() / delete / delete[] / realloc()
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41ED9BA: annihilator::do_annihilate(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:203)
==22510==    by 0x41ED9F3: annihilate_box(rust_task*, rust_opaque_box*) (rust_box_annihilator.cpp:211)
==22510==    by 0x41CDD19: rust_annihilate_box (rust_builtin.cpp:720)
==22510==    by 0x40996B6: rust_annihilate_box__c_stack_shim (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/libcore-c3ca5d77d81b46c1-0.4.so)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510==  Address 0x4abaa10 is 0 bytes inside a block of size 88 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
==22510== Invalid read of size 4
==22510==    at 0x804CEE1: glue_free_1931 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu)
==22510==    by 0x804CE88: glue_drop_1929 (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu)
==22510==    by 0x804FE2B: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/test/bench/task-perf-linked-failure.stage2-i686-unknown-linux-gnu)
==22510==  Address 0x474dc74 is 4 bytes inside a block of size 20 free'd
==22510==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==22510==    by 0x41EE8DA: memory_region::free(void*) (memory_region.cpp:64)
==22510==    by 0x41E28F3: rust_kernel::free(void*) (rust_kernel.cpp:77)
==22510==    by 0x41D551B: upcall_s_exchange_free (rust_upcall.cpp:193)
==22510==    by 0x41EF0F2: ??? (in /home/elliottslaughter/rust3/i686-unknown-linux-gnu/stage2/lib/rustc/i686-unknown-linux-gnu/lib/librustrt.so)
==22510== 
rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/test/bench/task-perf-linked-failure.rs:64
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
rust: task failed at 'killed', /home/elliottslaughter/rust3/src/libcore/task.rs:579
task-perf-linked-failure.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:60: void memory_region::free(void*): Assertion `false && "live_allocs < 1"' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


test [pretty] /home/elliottslaughter/rust3/src/test/run-pass/syntax-extension-fmt.rs ... FAILED

error: pretty-printed source does not match expected source

expected:
------------------------------------------
use std;

fn test(actual: ~str, expected: ~str) {
    log (debug, actual);
    log (debug, expected);
    assert actual == expected;
}

fn main() {
    test(fmt!("hello %d friends and %s things",10,~"formatted"),
         ~"hello 10 friends and formatted things");

    test(fmt!("test"), ~"test");

    // a quadratic optimization in LLVM (jump-threading) makes this test a
    // bit slow to compile unless we break it up
    part1();
    part2();
    part3();
    part4();
    part5();
    part6();
    percent();
    more_floats();
}

fn part1() {
    // Simple tests for types

    test(fmt!("%d",1), ~"1");
    test(fmt!("%i",2), ~"2");
    test(fmt!("%i",-1), ~"-1");
    test(fmt!("%u",10u), ~"10");
    test(fmt!("%s",~"test"), ~"test");
    test(fmt!("%b",true), ~"true");
    test(fmt!("%b",false), ~"false");
    test(fmt!("%c",'A'), ~"A");
    test(fmt!("%x",255u), ~"ff");
    test(fmt!("%X",4779u), ~"12AB");
    test(fmt!("%o",10u), ~"12");
    test(fmt!("%t",213u), ~"11010101");
    test(fmt!("%f",5.82f), ~"5.82");
    // 32-bit limits

    test(fmt!("%i",--2147483648), ~"-2147483648");
    test(fmt!("%i",2147483647), ~"2147483647");
    test(fmt!("%u",4294967295u), ~"4294967295");
    test(fmt!("%x",4294967295u), ~"ffffffff");
    test(fmt!("%o",4294967295u), ~"37777777777");
    test(fmt!("%t",4294967295u), ~"11111111111111111111111111111111");
}
fn part2() {
    // Widths

    test(fmt!("%1d",500), ~"500");
    test(fmt!("%10d",500), ~"       500");
    test(fmt!("%10d",-500), ~"      -500");
    test(fmt!("%10u",500u), ~"       500");
    test(fmt!("%10s",~"test"), ~"      test");
    test(fmt!("%10b",true), ~"      true");
    test(fmt!("%10x",255u), ~"        ff");
    test(fmt!("%10X",255u), ~"        FF");
    test(fmt!("%10o",10u), ~"        12");
    test(fmt!("%10t",255u), ~"  11111111");
    test(fmt!("%10c",'A'), ~"         A");
    test(fmt!("%10f",5.82f), ~"      5.82");
    // Left justify

    test(fmt!("%-10d",500), ~"500       ");
    test(fmt!("%-10d",-500), ~"-500      ");
    test(fmt!("%-10u",500u), ~"500       ");
    test(fmt!("%-10s",~"test"), ~"test      ");
    test(fmt!("%-10b",true), ~"true      ");
    test(fmt!("%-10x",255u), ~"ff        ");
    test(fmt!("%-10X",255u), ~"FF        ");
    test(fmt!("%-10o",10u), ~"12        ");
    test(fmt!("%-10t",255u), ~"11111111  ");
    test(fmt!("%-10c",'A'), ~"A         ");
    test(fmt!("%-10f",5.82f), ~"5.82      ");
}

fn part3() {
    // Precision

    test(fmt!("%.d",0), ~"");
    test(fmt!("%.u",0u), ~"");
    test(fmt!("%.x",0u), ~"");
    test(fmt!("%.t",0u), ~"");
    test(fmt!("%.d",10), ~"10");
    test(fmt!("%.d",-10), ~"-10");
    test(fmt!("%.u",10u), ~"10");
    test(fmt!("%.s",~"test"), ~"");
    test(fmt!("%.x",127u), ~"7f");
    test(fmt!("%.o",10u), ~"12");
    test(fmt!("%.t",3u), ~"11");
    test(fmt!("%.c",'A'), ~"A");
    test(fmt!("%.f",5.82f), ~"6");
    test(fmt!("%.0d",0), ~"");
    test(fmt!("%.0u",0u), ~"");
    test(fmt!("%.0x",0u), ~"");
    test(fmt!("%.0t",0u), ~"");
    test(fmt!("%.0d",10), ~"10");
    test(fmt!("%.0d",-10), ~"-10");
    test(fmt!("%.0u",10u), ~"10");
    test(fmt!("%.0s",~"test"), ~"");
    test(fmt!("%.0x",127u), ~"7f");
    test(fmt!("%.0o",10u), ~"12");
    test(fmt!("%.0t",3u), ~"11");
    test(fmt!("%.0c",'A'), ~"A");
    test(fmt!("%.0f",5.892f), ~"6");
    test(fmt!("%.1d",0), ~"0");
    test(fmt!("%.1u",0u), ~"0");
    test(fmt!("%.1x",0u), ~"0");
    test(fmt!("%.1t",0u), ~"0");
    test(fmt!("%.1d",10), ~"10");
    test(fmt!("%.1d",-10), ~"-10");
    test(fmt!("%.1u",10u), ~"10");
    test(fmt!("%.1s",~"test"), ~"t");
    test(fmt!("%.1x",127u), ~"7f");
    test(fmt!("%.1o",10u), ~"12");
    test(fmt!("%.1t",3u), ~"11");
    test(fmt!("%.1c",'A'), ~"A");
    test(fmt!("%.1f",5.82f), ~"5.8");
}
fn part4() {
    test(fmt!("%.5d",0), ~"00000");
    test(fmt!("%.5u",0u), ~"00000");
    test(fmt!("%.5x",0u), ~"00000");
    test(fmt!("%.5t",0u), ~"00000");
    test(fmt!("%.5d",10), ~"00010");
    test(fmt!("%.5d",-10), ~"-00010");
    test(fmt!("%.5u",10u), ~"00010");
    test(fmt!("%.5s",~"test"), ~"test");
    test(fmt!("%.5x",127u), ~"0007f");
    test(fmt!("%.5o",10u), ~"00012");
    test(fmt!("%.5t",3u), ~"00011");
    test(fmt!("%.5c",'A'), ~"A");
    test(fmt!("%.5f",5.82f), ~"5.82000");
    test(fmt!("%.5f",5.0f), ~"5.00000");
    test(fmt!("%.100f",1.1f),
         ~"1.1000000000000000888178419700125232338905334472656250000000000000000000000000000000000000000000000000");
    // Bool precision. I'm not sure if it's good or bad to have bool
    // conversions support precision - it's not standard printf so we
    // can do whatever. For now I'm making it behave the same as string
    // conversions.

    test(fmt!("%.b",true), ~"");
    test(fmt!("%.0b",true), ~"");
    test(fmt!("%.1b",true), ~"t");
}

fn part5() {
    // Explicit + sign. Only for signed conversions

    test(fmt!("%+d",0), ~"+0");
    test(fmt!("%+d",1), ~"+1");
    test(fmt!("%+d",-1), ~"-1");
    test(fmt!("%+f",0.0f), ~"+0");
    // Leave space for sign

    test(fmt!("% d",0), ~" 0");
    test(fmt!("% d",1), ~" 1");
    test(fmt!("% d",-1), ~"-1");
    test(fmt!("% f",0.0f), ~" 0");
    // Plus overrides space

    test(fmt!("% +d",0), ~"+0");
    test(fmt!("%+ d",0), ~"+0");
    test(fmt!("% +f",0.0f), ~"+0");
    test(fmt!("%+ f",0.0f), ~"+0");
    // 0-padding

    test(fmt!("%05d",0), ~"00000");
    test(fmt!("%05d",1), ~"00001");
    test(fmt!("%05d",-1), ~"-0001");
    test(fmt!("%05u",1u), ~"00001");
    test(fmt!("%05x",127u), ~"0007f");
    test(fmt!("%05X",127u), ~"0007F");
    test(fmt!("%05o",10u), ~"00012");
    test(fmt!("%05t",3u), ~"00011");
    test(fmt!("%05f",5.82f), ~"05.82");
    // 0-padding a string is undefined but glibc does this:

    test(fmt!("%05s",~"test"), ~" test");
    test(fmt!("%05c",'A'), ~"    A");
    test(fmt!("%05b",true), ~" true");
    // Left-justify overrides 0-padding

    test(fmt!("%-05d",0), ~"0    ");
    test(fmt!("%-05d",1), ~"1    ");
    test(fmt!("%-05d",-1), ~"-1   ");
    test(fmt!("%-05u",1u), ~"1    ");
    test(fmt!("%-05x",127u), ~"7f   ");
    test(fmt!("%-05X",127u), ~"7F   ");
    test(fmt!("%-05o",10u), ~"12   ");
    test(fmt!("%-05t",3u), ~"11   ");
    test(fmt!("%-05s",~"test"), ~"test ");
    test(fmt!("%-05c",'A'), ~"A    ");
    test(fmt!("%-05b",true), ~"true ");
    test(fmt!("%-05f",5.82f), ~"5.82 ");
}
fn part6() {
    // Precision overrides 0-padding
    // FIXME #2481: Recent gcc's report some of these as warnings

    test(fmt!("%06.5d",0), ~" 00000");
    test(fmt!("%06.5u",0u), ~" 00000");
    test(fmt!("%06.5x",0u), ~" 00000");
    test(fmt!("%06.5d",10), ~" 00010");
    test(fmt!("%06.5d",-10), ~"-00010");
    test(fmt!("%06.5u",10u), ~" 00010");
    test(fmt!("%06.5s",~"test"), ~"  test");
    test(fmt!("%06.5c",'A'), ~"     A");
    test(fmt!("%06.5x",127u), ~" 0007f");
    test(fmt!("%06.5X",127u), ~" 0007F");
    test(fmt!("%06.5o",10u), ~" 00012");

    // Precision does not override zero-padding for floats
    test(fmt!("%08.5f",5.82f), ~"05.82000");

    // Signed combinations

    test(fmt!("% 5d",1), ~"    1");
    test(fmt!("% 5d",-1), ~"   -1");
    test(fmt!("%+5d",1), ~"   +1");
    test(fmt!("%+5d",-1), ~"   -1");
    test(fmt!("% 05d",1), ~" 0001");
    test(fmt!("% 05d",-1), ~"-0001");
    test(fmt!("%+05d",1), ~"+0001");
    test(fmt!("%+05d",-1), ~"-0001");
    test(fmt!("%- 5d",1), ~" 1   ");
    test(fmt!("%- 5d",-1), ~"-1   ");
    test(fmt!("%-+5d",1), ~"+1   ");
    test(fmt!("%-+5d",-1), ~"-1   ");
    test(fmt!("%- 05d",1), ~" 1   ");
    test(fmt!("%- 05d",-1), ~"-1   ");
    test(fmt!("%-+05d",1), ~"+1   ");
    test(fmt!("%-+05d",-1), ~"-1   ");
}

fn percent() { let s = fmt!("ab%%cd"); assert s == ~"ab%cd"; }

fn more_floats() {
    assert ~"3.1416" == fmt!("%.4f",3.14159f);
    assert ~"3" == fmt!("%.0f",3.14159f);
    assert ~"99" == fmt!("%.0f",98.5f);
    assert ~"7.0000" == fmt!("%.4f",6.999999999f);
    assert ~"3.141590000" == fmt!("%.9f",3.14159f);
}

------------------------------------------
actual:
------------------------------------------
use std;

fn test(actual: ~str, expected: ~str) {
    log (debug, actual);
    log (debug, expected);
    assert actual == expected;
}

fn main() {
    test(fmt!("hello %d friends and %s things",10,~"formatted"),
         ~"hello 10 friends and formatted things");

    test(fmt!("test"), ~"test");

    // a quadratic optimization in LLVM (jump-threading) makes this test a
    // bit slow to compile unless we break it up
    part1();
    part2();
    part3();
    part4();
    part5();
    part6();
    percent();
    more_floats();
}

fn part1() {
    // Simple tests for types

    test(fmt!("%d",1), ~"1");
    test(fmt!("%i",2), ~"2");
    test(fmt!("%i",-1), ~"-1");
    test(fmt!("%u",10u), ~"10");
    test(fmt!("%s",~"test"), ~"test");
    test(fmt!("%b",true), ~"true");
    test(fmt!("%b",false), ~"false");
    test(fmt!("%c",'A'), ~"A");
    test(fmt!("%x",255u), ~"ff");
    test(fmt!("%X",4779u), ~"12AB");
    test(fmt!("%o",10u), ~"12");
    test(fmt!("%t",213u), ~"11010101");
    test(fmt!("%f",5.82f), ~"5.82");
    // 32-bit limits

    test(fmt!("%i",---2147483648), ~"-2147483648");
    test(fmt!("%i",2147483647), ~"2147483647");
    test(fmt!("%u",4294967295u), ~"4294967295");
    test(fmt!("%x",4294967295u), ~"ffffffff");
    test(fmt!("%o",4294967295u), ~"37777777777");
    test(fmt!("%t",4294967295u), ~"11111111111111111111111111111111");
}
fn part2() {
    // Widths

    test(fmt!("%1d",500), ~"500");
    test(fmt!("%10d",500), ~"       500");
    test(fmt!("%10d",-500), ~"      -500");
    test(fmt!("%10u",500u), ~"       500");
    test(fmt!("%10s",~"test"), ~"      test");
    test(fmt!("%10b",true), ~"      true");
    test(fmt!("%10x",255u), ~"        ff");
    test(fmt!("%10X",255u), ~"        FF");
    test(fmt!("%10o",10u), ~"        12");
    test(fmt!("%10t",255u), ~"  11111111");
    test(fmt!("%10c",'A'), ~"         A");
    test(fmt!("%10f",5.82f), ~"      5.82");
    // Left justify

    test(fmt!("%-10d",500), ~"500       ");
    test(fmt!("%-10d",-500), ~"-500      ");
    test(fmt!("%-10u",500u), ~"500       ");
    test(fmt!("%-10s",~"test"), ~"test      ");
    test(fmt!("%-10b",true), ~"true      ");
    test(fmt!("%-10x",255u), ~"ff        ");
    test(fmt!("%-10X",255u), ~"FF        ");
    test(fmt!("%-10o",10u), ~"12        ");
    test(fmt!("%-10t",255u), ~"11111111  ");
    test(fmt!("%-10c",'A'), ~"A         ");
    test(fmt!("%-10f",5.82f), ~"5.82      ");
}

fn part3() {
    // Precision

    test(fmt!("%.d",0), ~"");
    test(fmt!("%.u",0u), ~"");
    test(fmt!("%.x",0u), ~"");
    test(fmt!("%.t",0u), ~"");
    test(fmt!("%.d",10), ~"10");
    test(fmt!("%.d",-10), ~"-10");
    test(fmt!("%.u",10u), ~"10");
    test(fmt!("%.s",~"test"), ~"");
    test(fmt!("%.x",127u), ~"7f");
    test(fmt!("%.o",10u), ~"12");
    test(fmt!("%.t",3u), ~"11");
    test(fmt!("%.c",'A'), ~"A");
    test(fmt!("%.f",5.82f), ~"6");
    test(fmt!("%.0d",0), ~"");
    test(fmt!("%.0u",0u), ~"");
    test(fmt!("%.0x",0u), ~"");
    test(fmt!("%.0t",0u), ~"");
    test(fmt!("%.0d",10), ~"10");
    test(fmt!("%.0d",-10), ~"-10");
    test(fmt!("%.0u",10u), ~"10");
    test(fmt!("%.0s",~"test"), ~"");
    test(fmt!("%.0x",127u), ~"7f");
    test(fmt!("%.0o",10u), ~"12");
    test(fmt!("%.0t",3u), ~"11");
    test(fmt!("%.0c",'A'), ~"A");
    test(fmt!("%.0f",5.892f), ~"6");
    test(fmt!("%.1d",0), ~"0");
    test(fmt!("%.1u",0u), ~"0");
    test(fmt!("%.1x",0u), ~"0");
    test(fmt!("%.1t",0u), ~"0");
    test(fmt!("%.1d",10), ~"10");
    test(fmt!("%.1d",-10), ~"-10");
    test(fmt!("%.1u",10u), ~"10");
    test(fmt!("%.1s",~"test"), ~"t");
    test(fmt!("%.1x",127u), ~"7f");
    test(fmt!("%.1o",10u), ~"12");
    test(fmt!("%.1t",3u), ~"11");
    test(fmt!("%.1c",'A'), ~"A");
    test(fmt!("%.1f",5.82f), ~"5.8");
}
fn part4() {
    test(fmt!("%.5d",0), ~"00000");
    test(fmt!("%.5u",0u), ~"00000");
    test(fmt!("%.5x",0u), ~"00000");
    test(fmt!("%.5t",0u), ~"00000");
    test(fmt!("%.5d",10), ~"00010");
    test(fmt!("%.5d",-10), ~"-00010");
    test(fmt!("%.5u",10u), ~"00010");
    test(fmt!("%.5s",~"test"), ~"test");
    test(fmt!("%.5x",127u), ~"0007f");
    test(fmt!("%.5o",10u), ~"00012");
    test(fmt!("%.5t",3u), ~"00011");
    test(fmt!("%.5c",'A'), ~"A");
    test(fmt!("%.5f",5.82f), ~"5.82000");
    test(fmt!("%.5f",5.0f), ~"5.00000");
    test(fmt!("%.100f",1.1f),
         ~"1.1000000000000000888178419700125232338905334472656250000000000000000000000000000000000000000000000000");
    // Bool precision. I'm not sure if it's good or bad to have bool
    // conversions support precision - it's not standard printf so we
    // can do whatever. For now I'm making it behave the same as string
    // conversions.

    test(fmt!("%.b",true), ~"");
    test(fmt!("%.0b",true), ~"");
    test(fmt!("%.1b",true), ~"t");
}

fn part5() {
    // Explicit + sign. Only for signed conversions

    test(fmt!("%+d",0), ~"+0");
    test(fmt!("%+d",1), ~"+1");
    test(fmt!("%+d",-1), ~"-1");
    test(fmt!("%+f",0.0f), ~"+0");
    // Leave space for sign

    test(fmt!("% d",0), ~" 0");
    test(fmt!("% d",1), ~" 1");
    test(fmt!("% d",-1), ~"-1");
    test(fmt!("% f",0.0f), ~" 0");
    // Plus overrides space

    test(fmt!("% +d",0), ~"+0");
    test(fmt!("%+ d",0), ~"+0");
    test(fmt!("% +f",0.0f), ~"+0");
    test(fmt!("%+ f",0.0f), ~"+0");
    // 0-padding

    test(fmt!("%05d",0), ~"00000");
    test(fmt!("%05d",1), ~"00001");
    test(fmt!("%05d",-1), ~"-0001");
    test(fmt!("%05u",1u), ~"00001");
    test(fmt!("%05x",127u), ~"0007f");
    test(fmt!("%05X",127u), ~"0007F");
    test(fmt!("%05o",10u), ~"00012");
    test(fmt!("%05t",3u), ~"00011");
    test(fmt!("%05f",5.82f), ~"05.82");
    // 0-padding a string is undefined but glibc does this:

    test(fmt!("%05s",~"test"), ~" test");
    test(fmt!("%05c",'A'), ~"    A");
    test(fmt!("%05b",true), ~" true");
    // Left-justify overrides 0-padding

    test(fmt!("%-05d",0), ~"0    ");
    test(fmt!("%-05d",1), ~"1    ");
    test(fmt!("%-05d",-1), ~"-1   ");
    test(fmt!("%-05u",1u), ~"1    ");
    test(fmt!("%-05x",127u), ~"7f   ");
    test(fmt!("%-05X",127u), ~"7F   ");
    test(fmt!("%-05o",10u), ~"12   ");
    test(fmt!("%-05t",3u), ~"11   ");
    test(fmt!("%-05s",~"test"), ~"test ");
    test(fmt!("%-05c",'A'), ~"A    ");
    test(fmt!("%-05b",true), ~"true ");
    test(fmt!("%-05f",5.82f), ~"5.82 ");
}
fn part6() {
    // Precision overrides 0-padding
    // FIXME #2481: Recent gcc's report some of these as warnings

    test(fmt!("%06.5d",0), ~" 00000");
    test(fmt!("%06.5u",0u), ~" 00000");
    test(fmt!("%06.5x",0u), ~" 00000");
    test(fmt!("%06.5d",10), ~" 00010");
    test(fmt!("%06.5d",-10), ~"-00010");
    test(fmt!("%06.5u",10u), ~" 00010");
    test(fmt!("%06.5s",~"test"), ~"  test");
    test(fmt!("%06.5c",'A'), ~"     A");
    test(fmt!("%06.5x",127u), ~" 0007f");
    test(fmt!("%06.5X",127u), ~" 0007F");
    test(fmt!("%06.5o",10u), ~" 00012");

    // Precision does not override zero-padding for floats
    test(fmt!("%08.5f",5.82f), ~"05.82000");

    // Signed combinations

    test(fmt!("% 5d",1), ~"    1");
    test(fmt!("% 5d",-1), ~"   -1");
    test(fmt!("%+5d",1), ~"   +1");
    test(fmt!("%+5d",-1), ~"   -1");
    test(fmt!("% 05d",1), ~" 0001");
    test(fmt!("% 05d",-1), ~"-0001");
    test(fmt!("%+05d",1), ~"+0001");
    test(fmt!("%+05d",-1), ~"-0001");
    test(fmt!("%- 5d",1), ~" 1   ");
    test(fmt!("%- 5d",-1), ~"-1   ");
    test(fmt!("%-+5d",1), ~"+1   ");
    test(fmt!("%-+5d",-1), ~"-1   ");
    test(fmt!("%- 05d",1), ~" 1   ");
    test(fmt!("%- 05d",-1), ~"-1   ");
    test(fmt!("%-+05d",1), ~"+1   ");
    test(fmt!("%-+05d",-1), ~"-1   ");
}

fn percent() { let s = fmt!("ab%%cd"); assert s == ~"ab%cd"; }

fn more_floats() {
    assert ~"3.1416" == fmt!("%.4f",3.14159f);
    assert ~"3" == fmt!("%.0f",3.14159f);
    assert ~"99" == fmt!("%.0f",98.5f);
    assert ~"7.0000" == fmt!("%.4f",6.999999999f);
    assert ~"3.141590000" == fmt!("%.9f",3.14159f);
}

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:183


test [run-pass] i686-unknown-linux-gnu/test/doc-ref/statements_and_expressions_6.rs ... FAILED

error: test run failed!
command: i686-unknown-linux-gnu/test/doc-ref/statements_and_expressions_6.stage2-i686-unknown-linux-gnu 
stdout:
------------------------------------------

------------------------------------------
stderr:
------------------------------------------
rust: task failed at 'bounds check', i686-unknown-linux-gnu/test/doc-ref/statements_and_expressions_6.rs:7
leaked memory in rust main loop (5 objects)
statements_and_expressions_6.stage2-i686-unknown-linux-gnu: /home/elliottslaughter/rust3/src/rt/memory_region.cpp:172: memory_region::~memory_region(): Assertion `false' failed.

------------------------------------------

rust: task failed at 'explicit failure', /home/elliottslaughter/rust3/src/compiletest/runtest.rs:545


